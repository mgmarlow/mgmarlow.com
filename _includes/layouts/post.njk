{% extends "layouts/main.njk" %}

{% set previousPost = collections.post | getPreviousCollectionItem(page) %}
{% set nextPost = collections.post | getNextCollectionItem(page) %}

{% block content %}
  <article class="prose dark:prose-invert">
    <div class="mb-6">
      <h1 class="my-0">{{ title }}</h1>
      <p class="my-0">
        <small>
          <span>Posted: <time>{{ date | postDate }}</time><em>{{ '; Updated: ' + updated_at | postDate  if updated_at }}</em></span>
          <span>
            {% for tag in tags %}
              {% if tag !== "post" %}
                <a class="ml-2 tag" href="{{ '/tags/' + tag | url }}">{{ tag }}</a>
              {% endif %}
            {% endfor %}
          </span>
        </small>
      </p>
    </div>
    {{ content | safe }}
  </article>
{% endblock %}

{% block footer %}
  <footer class="my-10 prose dark:prose-invert">
    <hr />

    <p>Thanks for reading! Send your comments to <a href="mailto:blog@mgmarlow.com">blog@mgmarlow.com</a>.</p>

    <div>
      <p>
        {% if previousPost %}
          Previous: <a href="{{ previousPost.url }}">{{ previousPost.data.title }}</a>
        {% endif %}
      </p>

      <p>
        {% if nextPost %}
          Next: <a href="{{ nextPost.url }}">{{ nextPost.data.title }}</a>
        {% endif %}
      </p>
    </div>
  </footer>
{% endblock %}
